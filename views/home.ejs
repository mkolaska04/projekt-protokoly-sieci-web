<%- include("partials/navbar.ejs") %>

  <div class="main">

    <div class="choose-feed">
      <h1>Choose your feed</h1>
      <div class="choose-feed__buttons">
        <a href="/all" class="choose-feed__button">All</a>
        <a href="/following" class="choose-feed__button">Following</a>
      </div>
    </div>
  
  
    <button id="open-post-modal">What are you thinking about <%= locals.username || 'Guest' %>?</button>

    <!-- ðŸ”¥ Modal do tworzenia posta -->
    <div id="post-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="close-post-modal">&times;</span>
            <h2>Create a new post</h2>
            <form id="post-form" method="post">
                <label for="title">Title</label>
                <input type="text" id="post-title" name="title" placeholder="Title" required>
                <label for="content">Content</label>
                <textarea id="post-content" name="content" placeholder="Content" required></textarea>
                <button type="submit">Post</button>
            </form>
        </div>
    </div>

    <div id="modal-overlay" class="modal-overlay"></div>
    
    <div class="posts">
        <% if (posts && posts.length > 0) { %>
            <% posts.forEach(function(post) { %>
                <%- include("partials/post.ejs", { post: post }) %>
            <% }) %>
        <% } else { %>
            <p>No posts yet</p>
        <% } %>
    </div>
  </div>
  <script src="/script.js"></script>
  <%- include("partials/footer.ejs") %>